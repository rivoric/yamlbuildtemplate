# dotnet core build

parameters:
  projectFile: ''  # defaults for any parameters that aren't specified
  buildConfiguration: 'release'

steps:
- script: dotnet restore ${{ parameters.projectFile }}
- script:  dotnet build --configuration ${{ parameters.buildConfiguration }} ${{ parameters.projectFile }}
- script:  dotnet test dotnetcore-tests --configuration ${{ parameters.buildConfiguration }} --logger trx ${{ parameters.projectFile }}
- script:  dotnet publish --configuration ${{ parameters.buildConfiguration }} --output $BUILD_ARTIFACTSTAGINGDIRECTORY ${{ parameters.projectFile }}