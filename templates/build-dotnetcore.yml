# dotnet core build

parameters:
  projectFile: ''  # defaults for any parameters that aren't specified
  buildConfiguration: 'release'

steps:
- script: dotnet restore ${{ projectFile }}
- script:  dotnet build --configuration ${{ buildConfiguration }} ${{ projectFile }}
- script:  dotnet test dotnetcore-tests --configuration ${{ buildConfiguration }} --logger trx ${{ projectFile }}
- script:  dotnet publish --configuration ${{ buildConfiguration }} --output $BUILD_ARTIFACTSTAGINGDIRECTORY ${{ projectFile }}